<html>
  <head>
    <title>Grid Renderer Quicktest</title>
    <link rel="stylesheet" type="text/css" href="../../plottable.css">
    <style>
      svg {
        background-color: #EEE;
      }

      svg text {
        font-size: 14pt !important;
      }

      div {
        padding: 20px;
      }
    </style>
    <script src="../bower_components/d3/d3.min.js"></script>
    <script src="../../build/plottable.js"></script>

    <script>
    Plottable.RenderController.enabled = false;
    var c1, c2, c3;
    var xScale, yScale, colorScale, xAxisB, xAxisT, yAxisL, yAxisR, gridRenderer;
      function randomData() {
        var data = [];
        ["Work", "Food Is Tasty And I like it", "Sex", "Sleep"].forEach(function(category) {
          ["May-01", "May-02", "May-03", "May the Fourth Be With You", "May-05"].forEach(function(day){
            data.push({category:category, day:day, awesomeness:10*Math.random()});
          });
        });
        return data;
      }

      function staticData() {
        return [
          { category: "Work",  day : "May-01", awesomeness: 2 },
          { category: "Work",  day : "May-02", awesomeness: 3.5 },
          { category: "Food Is Tasty And I like it",  day : "May-03", awesomeness: 9 },
          { category: "Sex",   day : "May the Fourth Be With You", awesomeness: 16 },
          { category: "Sleep", day : "May-05", awesomeness: 8 }
        ];
    }

      function makeChart(selector, colors, data) {
          xScale       = new Plottable.OrdinalScale().rangeType("bands");
          yScale       = new Plottable.OrdinalScale().rangeType("bands");
          colorScale   = new Plottable.InterpolatedColorScale(colors);

          identity     = function(d){return d;};
          xAxisB        = new Plottable.CategoryAxis(xScale, "bottom");
          xAxisT        = new Plottable.CategoryAxis(xScale, "top");
          yAxisL        = new Plottable.CategoryAxis(yScale, "left");
          yAxisR        = new Plottable.CategoryAxis(yScale, "right");
          gridRenderer = new Plottable.GridRenderer(data, xScale, yScale, colorScale)
                                  .project("x", "category")
                                  .project("y", "day")
                                  .project("fill", "awesomeness");

          return new Plottable.Table()
            .addComponent(0, 0, yAxisL)
            .addComponent(0, 2, yAxisR)
            .addComponent(0, 1, gridRenderer)
            .addComponent(1, 1, xAxisB)
            // .addComponent(2, 1, xAxisB)
            .renderTo(selector);
      };

      window.onload = function() {
        c1 = makeChart("#life0", "reds", randomData());
        // c2 = makeChart("#life1", "blues", randomData());
        // c3 = makeChart("#life2", ["dodgerblue", "white", "lime"], staticData());
      };

      function x(align) {
        window.xOrient = align;
        c1._invalidateLayout();
        c2._invalidateLayout();
        c3._invalidateLayout();
      }

      function y(align) {
        window.yOrient = align;
        c1._invalidateLayout();
        c2._invalidateLayout();
        c3._invalidateLayout();
      }

    </script>
  </head>

  <body>
    <div><svg id="life0" width="600" height="300"></svg></div>
    <div><svg id="life1" width="600" height="300"></svg></div>
    <div><svg id="life2" width="600" height="300"></svg></div>

    <button onclick='x("right")'>x: right</button> <br>
    <button onclick='x("middle")'>x: middle</button> <br>
    <button onclick='x("left")'>x: left</button> <br>

<br><br>

    <button onclick='y("top")'>y: top</button> <br>
    <button onclick='y("middle")'>y: middle</button> <br>
    <button onclick='y("bottom")'>y: bottom</button> <br>



  </body>

</html>
